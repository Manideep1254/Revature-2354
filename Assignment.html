<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <ul id="item1">
        <h3>Display all student names in an HTML unordered list.</h3>
    </ul>

    <ul id="item2">
        <h3>Display only students who scored more than 60 marks.</h3>


    </ul>
    <ul id="item3">
        <h3>Count how many students belong to each department</h3>


    </ul>
    <ul id="item4">
        <h3>Find the student with the highest marks.</h3>


    </ul>
    <table id="student-table">
        <thead>
            <tr>
                <th>Name &nbsp;</th>
                <th>Marks&nbsp;</th>
                <th>Department</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
    <h3>Calculate the average marks of all students.</h3>
   <p id="avgmarks">
    
   </p>

    <script>

        const students = [
            { id: 1, name: "Amit", marks: 78, department: "CSE" },
            { id: 2, name: "Priya", marks: 92, department: "ECE" },
            { id: 3, name: "Rahul", marks: 45, department: "MECH" },
            { id: 4, name: "Sneha", marks: 66, department: "CSE" },
            { id: 5, name: "Kiran", marks: 88, department: "ECE" }
        ];

        // Display all student names in an HTML unordered list.
        let ulelement = document.getElementById("item1");
        students.forEach((student) => {
            const student_name = document.createElement("li");
            student_name.textContent = student.name;
            ulelement.appendChild(student_name);
        });

        //Display only students who scored more than 60 marks.
        let ulelement1 = document.getElementById("item2");
        let moremarks = students.filter(p => p.marks > 60);
        moremarks.forEach((student) => {
            const li = document.createElement("li");
            li.textContent = `${student.name} - ${student.marks}`;
            ulelement1.appendChild(li);
        });

        //Count how many students belong to each department
        let ulelement2 = document.getElementById("item3");
        let deptcounts = students.reduce((p, q) => {
            p[q.department] = (p[q.department] || 0) + 1;
            return p;
        }, {});

        for (let dept in deptcounts) {
            const li = document.createElement("li");
            li.textContent = `${dept} - ${deptcounts[dept]}`;
            ulelement2.appendChild(li);
        }

        //Find the student with the highest marks.
        let ulelement3 = document.getElementById("item4");
        let highestmarks = students.sort((a, b) => b.marks - a.marks);
        const li = document.createElement("li");
        li.textContent = `${highestmarks[0].name}-${highestmarks[0].marks}`;
        ulelement3.appendChild(li);

        //Display students in a table with columns: Name, Marks, Department.
        let tbody = document.querySelector("#student-table tbody");
        students.forEach((student) => {
            const row = document.createElement("tr");
            row.innerHTML = `
            <td>${student.name}</td>
            <td>${student.marks}</td>
            <td>${student.department}</td>
        `;
            tbody.appendChild(row);
        });


        //Calculate the average marks of all students.
        let totalmarks=students.reduce((sum,p)=>sum+p.marks,0);
        let avgMarks=totalmarks/students.length;
        document.getElementById("avgmarks").textContent=`Average marks - ${avgMarks}`;
        // li.textContent=`${avgmarks}`;






    </script>
</body>

</html>